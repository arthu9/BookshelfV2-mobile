<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">

  <title>BookShelf</title>

  <link rel="stylesheet" href="lib/framework7/css/framework7.ios.min.css">
  <link rel="stylesheet" href="lib/framework7/css/framework7.ios.colors.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
  <script>
  function signup() {
    $.ajax({
      url: "http://127.0.0.1:5000/signup",
      contentType: 'application/json; charset=utf-8',
      data: JSON.stringify({
        'first_name':$("#first_name").val(),
        'last_name':$("#last_name").val(),
        'contact_number':$("#contact_number").val(),
        'birth_date':$("#birth_date").val(),
        'gender':$("#gender").val(),
        'username':$("#username").val(),
        'password':$("#password").val()
      }),
      method: "POST",
      dataType: "json",
      crossDomain: true,
      success: function() {
        console.log("success");
        alert("Registered successfully!");
        window.location.replace("login.html");
      },
      error: function () {
        console.log('error');
      },
      complete: function (jqXHR) {
        if (jqXHR.status == '401') {
          console.log(jqXHR.status);
        }
      }
    })
  }



    // $(document).ready(function () {
    //   $('#signup').click(function () {
    //     $.ajax({
    //       url: "http://127.0.0.1:5000/signup",
    //       contentType: 'application/json; charset=utf-8',
    //       data: JSON.stringify({
    //         'first_name':$("#first_name").val(),
    //         'last_name':$("#last_name").val(),
    //         'contact_number':$("#contact_number").val(),
    //         'birth_date':$("#birth_date").val(),
    //         'gender':$("#gender").val(),
    //         'username':$("#username").val(),
    //         'password':$("#password").val()
    //       }),
    //       method: "POST",
    //       dataType: "json",
    //       crossDomain: true,
    //       success: function() {
    //         console.log("success");
    //         alert("Registered successfully!");
    //         window.location.replace("login.html");
    //       },
    //       error: function () {
    //         console.log('error');
    //       },
    //       complete: function (jqXHR) {
    //         if (jqXHR.status == '401') {
    //           console.log(jqXHR.status);
    //         }
    //       }
    //     })
    //   });
    // })
  </script>
</head>
<body>
	<div class="navbar">
    <div class="navbar-inner">
      <div class="left">
        <a class="link back">
          <i class="icon icon-back"></i>
          <span class="ios-only">Back</span>
        </a>
      </div>
    	<div class="title">Sign Up</div>
        <div class="right">
        	<a href="login.html">Login</a>
        </div>
    </div>
  </div>

  <div class="page">
    <div class="page-content scroll-content">
      <div class="subhead">
        <h2>Personal Information</h2>
      </div>
      <div class="input">
        <list>
          <list-item>
            <label>First Name: </label>
            <input type="text" placeholder="Your First name" id="first_name"></input>
          </list-item><br><br>
          <list-item>
            <label>Last Name: </label>
            <input type="text" placeholder="Your Last name" id="last_name"></input>
          </list-item><br><br>
          <list-item>
            <label>Contact Number: </label>
            <input type="text" placeholder="Your Contact Number" id="contact_number"></input>
          </list-item><br><br>
          <list-item>
            <label>Birthday: </label>
            <input type="date" id="birth_day" clear-button></input>
          </list-item><br><br>
          <list-item>
            <label>Gender: </label>
            <select form="gender">
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </list-item><br><br>
        </list>
      </div>
      <div class="subhead">
        <h2>Account Information</h2>
      </div>
      <div class="input">
        <list>
          <list-item>
            <label>Username: </label>
            <input type="text" placeholder="Your Username" name="Username" id="username">
          </list-item><br><br>
          <list-item>
            <label>Password: </label>
            <input type="password" placeholder="Your Password" name="password" id="password">
          </list-item><br><br>
          <list-item>
            <label></label>
          </list-item>
        </list>
      </div>

      <input type="button" name="Register" value="Register" id="save-btn" class="col button button-big button-fill button-round" onclick="signup();">
    </div>
  </div>
  <script type="text/javascript" src="cordova.js"></script>
  <script type="text/javascript" src="lib/framework7/js/framework7.min.js"></script>
  <script type="text/javascript" src="js/my-app.js"></script>
</body>
</html>